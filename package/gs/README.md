### changelog

##### 0.05

- изменения в логике работы ПО согласно замечаниям при пробном запуске на АГНКС КТН:
- - в GasKit статус "отпуск" будет меняться только после того как начался реальный отпуск топлива, а не после нажатия на кнопку "Старт" в GasKit.
- - о том, что нужно нажимать на ЗЕЛЕНУЮ кнопку заправщик сможет понять по моргающему зеленому светодиоду.
- - заправка на АГНКС будет стартовать сразу после нажатия на ЗЕЛЕНУЮ кнопку (без задержки). Задержка только для ПАГЗ.
- - вывод стоимости топлива при соответствующей команде с GasKit.
- уставка расхода массового топлива при обрыве шланга (в коде, в настройках и в веб-интерфейсе)
- низкое давление в линии больше не отслеживается. не приводит к ошибке и невозможности проводить отпуск топлива.


###### файлы для обновления при апгрейде
- `/usr/bin/gs` 
- `/usr/lib/lua/luci/controller/gs.lua`
- `/mnt/gs/1/firmware_subversion`
- `/mnt/gs/1/setting_mass_flow_rate_break_error_threshold`
- `/mnt/gs/2/setting_mass_flow_rate_break_error_threshold`

##### 0.04

- исправлен баг с вычитыванием данных микросхемой ADS1115 - на одной из плат проявилось вычитывание данных с другого канала. Экспериментально выявлено, что каждое второе вычитывание каждого канала исправляет данную ситуацию. To-Do: пофиксить драйвер ads1115.c.
- самодиагностика. переполюсовка проводов на линиях 4-20mA отображается на дисплее и в веб-интерфейсе.
- режим самодиагностики. Проверка правильности подключения кнопок СТАРТ, СТОП, ламп индикации НОРМ, ОШИБКА и дисплея.
- улучшения в веб-интерфейсе.

###### файлы для обновления при апгрейде
- `/usr/bin/gs` 
- `/etc/init.d/gs` 
- `/usr/lib/lua/luci/controller/gs.lua`
- `/mnt/gs/1/firmware_subversion`

